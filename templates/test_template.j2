from fastapi.testclient import TestClient
from main import app

client = TestClient(app)

def test_create_{{ model.name.lower() }}():
    payload = {
        {% for field in model.fields %}
        "{{ field.name }}": {{ '"example_value"' if field.pydantic_type == "str" else 123 if field.pydantic_type in ["int", "float"] else "True" if field.pydantic_type == "bool" else "[]" }},
        {% endfor %}
    }
    response = client.post("/{{ model.plural }}", json=payload)  # ✅ Pluralized path
    assert response.status_code == 200

def test_get_all_{{ model.plural }}():
    response = client.get("/{{ model.plural }}")  # ✅ Pluralized path
    assert response.status_code == 200
    assert isinstance(response.json(), list)
